
# RPCs

Keystone (Zion)

Btc network
- btc_getAllXpubs
- btc_getPublicExtendedKey
- btc_getMasterFingerprint
- btc_network
- btc_signPsbt
Lighting Network
- btc_saveLNDataToSnap
- btc_getLNDataFromSnap
- btc_signLNInvoice

Serverless
- btc_connect
- btc_disconnect
- btc_isConnected
- btc_getAccounts
- btc_getCurrentAccount
- btc_addAccount

# Glossary

- MFP: Master Fingerprint = First 4 bytes of **Master Private Key**
- SLIP10: Private Key Derivation from **Master Private Key**
- Scripts: https://learnmeabitcoin.com/technical/script
- P2PKH: **Pay To Pubkey Hash** Script - Legacy
    - Address Standard starting with **1**
    - Derivation Path: *m / purpose' / coin_type' / account' / change / address_index*
        - Bitcoin: m/44'/0'/0'/0/0
        - Testnet: m/44'/1'/0'/0/0
- P2SH(P2WPKH): **Pay To Script Hash (Pay to Witness Public Key Hash) - P2WPKH-nested-in-P2SH** Script (BIP49) - Nested SegWit
    - Address starting with **3**
    - Derivation Path:
        - Bitcoin: m/49'/0'/0'/0/0
        - Testnet: m/49'/1'/0'/0/0
- P2WPKH: **Pay to Witness Public Key Hash** (BIP84) - Native SegWit
    - Address starting with **bc1q**
    - Derivation Path:
        - Bitcoin: m/84'/0'/0'/0/0
        - Testnet: m/84'/1'/0'/0/0
- P2TR: (BIP86) - Taproot
    - Address starting with **bc1p**
- Account':
    - Hardened Child: 0' => Index = 2147483648 (Default)
        - The public keys it (Derivated Private Key) creates cannot be derived by the extends public key
        - ![Alt text](hardened-child.png)
    - Normal: 0 => Index = 0
- PSBT: **Partially Signed Bitcoin Transactions**
    - https://river.com/learn/what-are-partially-signed-bitcoin-transactions-psbts/
- Coins:
    - BTC_LEGACY (BTC_TESTNET_LEGACY)                       <=> P2PKH - BIP44
    - BTC_SEGWIT (BTC_TESTNET_SEGWIT)                       <=> P2SH_P2WPKH - BIP49
    - BTC_NATIVE_SEGWIT (BTC_TESTNET_NATIVE_SEGWIT)         <=> P2WPKH - BIP84
- UTXO:
    - Unspent Transaction Outputs

## btc_getAllXpubs

- Get All Public Keys Generated by following script
    - P2PKH (Legacy)
    - P2SH_P2WPKH (SegWit)
    - P2WPKH
- [Should] support more...

## btc_getPublicExtendedKey

- Get Public Key Generated by one of below scripts
    - P2PKH (Legacy)
    - P2SH_P2WPKH (SegWit)
    - P2WPKH
- [Should] support more...

## btc_getMasterFingerprint

- Get 4-first bytes of private key
    - P2PKH         - Bitcoin: m/44'/0'/0'/0/0
    - P2SH(P2WPKH)  - Bitcoin: m/49'/0'/0'/0/0
- [Should] return based on *connected network* + *selected script*

## btc_network

- Get/Set current connected network (Bitcoin or Testnet)
- Allow origin connect to network
- [Should] select which account connect to

## btc_signPsbt

- Sign Partially Signed Bitcoin Transaction

## btc_saveLNDataToSnap, btc_getLNDataFromSnap, btc_signLNInvoice

- RPC for lightning network


# Ordinals

## Refs

```
https://testnet.ordinals.com/
https://docs.ordinals.com/guides/explorer.html
https://docs.1satordinals.com/libraries
```